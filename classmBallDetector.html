<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>DNT2017: mBallDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="dnt_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DNT2017
   </div>
   <div id="projectbrief">RoboCup SPL Dutch Nao Team</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classmBallDetector-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mBallDetector Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="m__ball__detector_8h_source.html">m_ball_detector.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mBallDetector:</div>
<div class="dyncontent">
<div class="center"><img src="classmBallDetector__inherit__graph.png" border="0" usemap="#mBallDetector_inherit__map" alt="Inheritance graph"/></div>
<map name="mBallDetector_inherit__map" id="mBallDetector_inherit__map">
<area shape="rect" id="node2" href="classModule.html" title="Module" alt="" coords="26,5,90,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for mBallDetector:</div>
<div class="dyncontent">
<div class="center"><img src="classmBallDetector__coll__graph.png" border="0" usemap="#mBallDetector_coll__map" alt="Collaboration graph"/></div>
<map name="mBallDetector_coll__map" id="mBallDetector_coll__map">
<area shape="rect" id="node2" href="classModule.html" title="Module" alt="" coords="400,5,464,32"/>
<area shape="rect" id="node3" href="classInputMessage.html" title="InputMessage\&lt; rCameraSensor \&gt;" alt="" coords="323,56,541,83"/>
<area shape="rect" id="node4" href="classInputMessageBase.html" title="InputMessageBase" alt="" coords="134,107,269,133"/>
<area shape="rect" id="node9" href="classInputMessage.html" title="InputMessage\&lt; rJointSensor \&gt;" alt="" coords="331,107,533,133"/>
<area shape="rect" id="node5" href="classMessage.html" title="Message" alt="" coords="5,131,80,157"/>
<area shape="rect" id="node7" href="classOutputMessageBase.html" title="OutputMessageBase" alt="" coords="129,157,273,184"/>
<area shape="rect" id="node6" href="classOutputMessage.html" title="OutputMessage\&lt; rBall \&gt;" alt="" coords="350,157,514,184"/>
<area shape="rect" id="node8" href="classOutputMessage.html" title="OutputMessage\&lt; rLeftEyeLeds \&gt;" alt="" coords="325,208,539,235"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a390080ff9015d793f40b6c0801261771"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a390080ff9015d793f40b6c0801261771">mBallDetector</a> ()</td></tr>
<tr class="separator:a390080ff9015d793f40b6c0801261771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0891d187d114b5079def4571d5759729"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a0891d187d114b5079def4571d5759729">~mBallDetector</a> ()=default</td></tr>
<tr class="separator:a0891d187d114b5079def4571d5759729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0262c9762a880d3d89bb169fc3d73ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#ab0262c9762a880d3d89bb169fc3d73ea">updateBall</a> ()</td></tr>
<tr class="separator:ab0262c9762a880d3d89bb169fc3d73ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa711bda5039efa89177748eb24b1966b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#aa711bda5039efa89177748eb24b1966b">getName</a> () const </td></tr>
<tr class="separator:aa711bda5039efa89177748eb24b1966b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3766ba3bce1be52abbe485688d1bdcaf"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structModule_1_1UpdateInformation.html">UpdateInformation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a3766ba3bce1be52abbe485688d1bdcaf">getUpdates</a> ()</td></tr>
<tr class="separator:a3766ba3bce1be52abbe485688d1bdcaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classModule"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classModule')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classModule.html">Module</a></td></tr>
<tr class="memitem:a4a48538d35a2da7fcc32d9f509034723 inherit pub_methods_classModule"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModule.html#a4a48538d35a2da7fcc32d9f509034723">~Module</a> ()=default</td></tr>
<tr class="separator:a4a48538d35a2da7fcc32d9f509034723 inherit pub_methods_classModule"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a90a3ea633cf007c9d785eda6f0d2007a"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a90a3ea633cf007c9d785eda6f0d2007a">getHighIntensityImage</a> (cv::Mat &amp;source_image, bool &amp;valid)</td></tr>
<tr class="separator:a90a3ea633cf007c9d785eda6f0d2007a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c05501cea4fef472273318696e53ffa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a4c05501cea4fef472273318696e53ffa">findBalls</a> ()</td></tr>
<tr class="separator:a4c05501cea4fef472273318696e53ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27bdf7397f32e079c6edc98412115889"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a27bdf7397f32e079c6edc98412115889">getNextROI</a> (<a class="el" href="structROI.html">ROI</a> &amp;current_roi)</td></tr>
<tr class="separator:a27bdf7397f32e079c6edc98412115889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9148ca5668ae24280b5c05b309ebae3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#ad9148ca5668ae24280b5c05b309ebae3">computeExpectedBallSize</a> (int y)</td></tr>
<tr class="separator:ad9148ca5668ae24280b5c05b309ebae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3dbe2d0a89af588d6c6224a89b37445"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#af3dbe2d0a89af588d6c6224a89b37445">computeExpectedBallSizeSimulation</a> ()</td></tr>
<tr class="separator:af3dbe2d0a89af588d6c6224a89b37445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c63e32993b5237c7f7cb3e5b901e285"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a5c63e32993b5237c7f7cb3e5b901e285">detectOverlap</a> (std::vector&lt; <a class="el" href="structROI.html">ROI</a> &gt; &amp;previous_rois, <a class="el" href="structROI.html">ROI</a> roi_rect)</td></tr>
<tr class="separator:a5c63e32993b5237c7f7cb3e5b901e285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97baebc6faef8bed9d15c7431a9caa7"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#aa97baebc6faef8bed9d15c7431a9caa7">moveROI</a> (std::vector&lt; <a class="el" href="structROI.html">ROI</a> &gt; &amp;previous_rois, <a class="el" href="structROI.html">ROI</a> &amp;roi_rectangle)</td></tr>
<tr class="separator:aa97baebc6faef8bed9d15c7431a9caa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae64c47ee1ee3af4595cb91e42711c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a6ae64c47ee1ee3af4595cb91e42711c2">computeCentroid</a> (cv::Mat &amp;roi, <a class="el" href="structROI.html">ROI</a> &amp;roi_rectangle)</td></tr>
<tr class="separator:a6ae64c47ee1ee3af4595cb91e42711c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d736a9468648f015195bf6e2eace3dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a9d736a9468648f015195bf6e2eace3dd">correctBlob</a> (cv::Mat &amp;roi)</td></tr>
<tr class="separator:a9d736a9468648f015195bf6e2eace3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67f29b8d0e645af800318e270a319ad5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a67f29b8d0e645af800318e270a319ad5">correctHaar</a> (cv::Mat &amp;roi, <a class="el" href="structROI.html">ROI</a> &amp;roi_rectangle)</td></tr>
<tr class="separator:a67f29b8d0e645af800318e270a319ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb255981b8f73179fe457075d49a120"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#abcb255981b8f73179fe457075d49a120">computeAngleToBall</a> (int pixel_x)</td></tr>
<tr class="separator:abcb255981b8f73179fe457075d49a120"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac684a618bf1d137ec8f1bcb82e580055"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#ac684a618bf1d137ec8f1bcb82e580055">minMaxLoc</a> (cv::Mat &amp;roi, int &amp;min, int &amp;max)</td></tr>
<tr class="separator:ac684a618bf1d137ec8f1bcb82e580055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0deb81ab98e452a209917ec149febba7"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a0deb81ab98e452a209917ec149febba7">inRangeVectorized</a> (cv::Mat &amp;image, int lower)</td></tr>
<tr class="separator:a0deb81ab98e452a209917ec149febba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f783d9085264b9a12402e06eba8e750"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a0f783d9085264b9a12402e06eba8e750">countNonZero</a> (cv::Mat &amp;roi)</td></tr>
<tr class="separator:a0f783d9085264b9a12402e06eba8e750"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7688fdec8fc199e7d94175a11c52436b"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a7688fdec8fc199e7d94175a11c52436b">camera_name_</a></td></tr>
<tr class="separator:a7688fdec8fc199e7d94175a11c52436b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050cae35bfcf4df3b81b6e9c2675b435"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a050cae35bfcf4df3b81b6e9c2675b435">IN_RANGE_THRESHOLD_</a></td></tr>
<tr class="separator:a050cae35bfcf4df3b81b6e9c2675b435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c3fc1cd7fce13f6dfd293cc8283cc55"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a5c3fc1cd7fce13f6dfd293cc8283cc55">PERCENTAGE_OVERLAP_</a></td></tr>
<tr class="separator:a5c3fc1cd7fce13f6dfd293cc8283cc55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e145de498a331a53eb1f0e488695ead"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a4e145de498a331a53eb1f0e488695ead">BALL_SIZE_OFFSET_</a></td></tr>
<tr class="separator:a4e145de498a331a53eb1f0e488695ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88acbf9089bac80c6a4e3b03eb3ef507"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a88acbf9089bac80c6a4e3b03eb3ef507">MAX_ROI_MOVES_</a></td></tr>
<tr class="separator:a88acbf9089bac80c6a4e3b03eb3ef507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86e4c50a20b55285dba28ef27a7aff6f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a86e4c50a20b55285dba28ef27a7aff6f">MIN_PERCENTAGE_NON_ZEROS_</a></td></tr>
<tr class="separator:a86e4c50a20b55285dba28ef27a7aff6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5af40b4c168af5b46aaa26fe5f89c4a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#af5af40b4c168af5b46aaa26fe5f89c4a">MAX_PERCENTAGE_NON_ZEROS_</a></td></tr>
<tr class="separator:af5af40b4c168af5b46aaa26fe5f89c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a20be11dd4f4f9514a928109973068"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a53a20be11dd4f4f9514a928109973068">MINIMAL_ROI_SIZE_</a></td></tr>
<tr class="separator:a53a20be11dd4f4f9514a928109973068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b6155c08c97b42c39ee029bda15cba6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a9b6155c08c97b42c39ee029bda15cba6">HAAR_SIZE_</a></td></tr>
<tr class="separator:a9b6155c08c97b42c39ee029bda15cba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a404069c09a810683aad27cd6f0ac8654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a404069c09a810683aad27cd6f0ac8654">SIMULATION_BALL_SIZE_</a></td></tr>
<tr class="separator:a404069c09a810683aad27cd6f0ac8654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae67fab1472733befe0a6bec6bca96b27"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#ae67fab1472733befe0a6bec6bca96b27">MIN_COLOR_DIFFERENCE_</a></td></tr>
<tr class="separator:ae67fab1472733befe0a6bec6bca96b27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa44eec8d54889e5371bef64208eab1e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOutputMessage.html">OutputMessage</a>&lt; <a class="el" href="classrBall.html">rBall</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#aa44eec8d54889e5371bef64208eab1e2">ball_message_</a></td></tr>
<tr class="separator:aa44eec8d54889e5371bef64208eab1e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29ff2cb292aa14677b5635c712e5f324"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOutputMessage.html">OutputMessage</a>&lt; <a class="el" href="classrLeftEyeLeds.html">rLeftEyeLeds</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a29ff2cb292aa14677b5635c712e5f324">left_eye_led_message_</a></td></tr>
<tr class="separator:a29ff2cb292aa14677b5635c712e5f324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc54af2b89bfca2c993926cf29a22b7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInputMessage.html">InputMessage</a>&lt; <a class="el" href="classrCameraSensor.html">rCameraSensor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#addc54af2b89bfca2c993926cf29a22b7">camera_sensor_message_</a></td></tr>
<tr class="separator:addc54af2b89bfca2c993926cf29a22b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af077168c7a31fba66b34f90af23bfade"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInputMessage.html">InputMessage</a>&lt; <a class="el" href="classrJointSensor.html">rJointSensor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#af077168c7a31fba66b34f90af23bfade">joint_sensor_message_</a></td></tr>
<tr class="separator:af077168c7a31fba66b34f90af23bfade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff682119795522fb39dae99e9514062c"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; const <a class="el" href="classrJointSensor.html">rJointSensor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#aff682119795522fb39dae99e9514062c">joint_sensor_representation_</a></td></tr>
<tr class="separator:aff682119795522fb39dae99e9514062c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc330a6deca203e4428ceb0d0a9eae3"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#abcc330a6deca203e4428ceb0d0a9eae3">cv_image_</a></td></tr>
<tr class="separator:abcc330a6deca203e4428ceb0d0a9eae3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d66b8eff2ede90d11960adf5ebd7e0"><td class="memItemLeft" align="right" valign="top">cv::CascadeClassifier&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#ad0d66b8eff2ede90d11960adf5ebd7e0">ball_cascade_</a></td></tr>
<tr class="separator:ad0d66b8eff2ede90d11960adf5ebd7e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a8a044232b3f443669e54d3f7276a962f"><td class="memItemLeft" align="right" valign="top">static const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmBallDetector.html#a8a044232b3f443669e54d3f7276a962f">MAX_RESOLUTION_</a> = 960 * 480</td></tr>
<tr class="separator:a8a044232b3f443669e54d3f7276a962f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module finds balls by processing <a class="el" href="structROI.html">ROI</a>'s, a <a class="el" href="structROI.html">ROI</a> is a square which is the size of a ball at a certain spot in the image. The first check is if a <a class="el" href="structROI.html">ROI</a> contains enough bright pixels to contain a ball. If this is the case, a second check is applied, is there a blob in the image which is about the right size to be a blob on the ball. If this is also the case, the <a class="el" href="structROI.html">ROI</a> is put into a haar classifier which decides whether a <a class="el" href="structROI.html">ROI</a> is a ball or not.</p>
<dl class="section author"><dt>Author</dt><dd>Caitlin </dd>
<dd>
Douwe </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a390080ff9015d793f40b6c0801261771"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mBallDetector::mBallDetector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor: does nothing.</p>
<p>This module finds balls by processing <a class="el" href="structROI.html">ROI</a>'s, a <a class="el" href="structROI.html">ROI</a> is a square which is the size of a ball at a certain spot in the image. The first check is if a <a class="el" href="structROI.html">ROI</a> contains enough bright pixels to contain a ball. If this is the case, a second check is applied, is there a blob in the image which is about the right size to be a blob on the ball. If this is also the case, the <a class="el" href="structROI.html">ROI</a> is put into a haar classifier which decides whether a <a class="el" href="structROI.html">ROI</a> is a ball or not.</p>
<dl class="section author"><dt>Author</dt><dd>Caitlin </dd>
<dd>
Douwe </dd></dl>

</div>
</div>
<a class="anchor" id="a0891d187d114b5079def4571d5759729"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mBallDetector::~mBallDetector </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor: does nothing. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abcb255981b8f73179fe457075d49a120"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mBallDetector::computeAngleToBall </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pixel_x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the angle of the ball to the robot </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pixel_x</td><td>x-coordinate of pixel in the middle of the ball. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>angle to the ball in radian. </dd></dl>

</div>
</div>
<a class="anchor" id="a6ae64c47ee1ee3af4595cb91e42711c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mBallDetector::computeCentroid </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>roi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structROI.html">ROI</a> &amp;&#160;</td>
          <td class="paramname"><em>roi_rectangle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Computes the average coordinate of the non zero pixels. This function is faster and allows to use scanlines on larger <a class="el" href="structROI.html">ROI</a>'s without having to resize. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi</td><td>The image Roi. </td></tr>
    <tr><td class="paramname">roi_rectangle</td><td>The roi rectangle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ad9148ca5668ae24280b5c05b309ebae3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::computeExpectedBallSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Magic formula to calculate expected ball size based on the head pitch of the robot and the position of pixels in the image. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">y</td><td>The y position of the pixel in the image. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The expected ball size. </dd></dl>

</div>
</div>
<a class="anchor" id="af3dbe2d0a89af588d6c6224a89b37445"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::computeExpectedBallSizeSimulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Expected ball size formula for simulation, which just returns a constant. </p><dl class="section return"><dt>Returns</dt><dd>The expected ball size. </dd></dl>

</div>
</div>
<a class="anchor" id="a9d736a9468648f015195bf6e2eace3dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mBallDetector::correctBlob </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>roi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check whether there is a blob of the right size and aspect ratio in the roi. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi</td><td>The image roi. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if correct blob, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a67f29b8d0e645af800318e270a319ad5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mBallDetector::correctHaar </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>roi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structROI.html">ROI</a> &amp;&#160;</td>
          <td class="paramname"><em>roi_rectangle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check whether there is a blob of the right size and aspect ratio in the roi. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi</td><td>The image roi. </td></tr>
    <tr><td class="paramname">roi_rectangle</td><td>containing information about the current roi. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if roi contains a ball, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a0f783d9085264b9a12402e06eba8e750"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::countNonZero </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>roi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Counts the amount of non zero pixels in an image. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi</td><td>The roi in which we want to count the amount of white pixels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The amount of white pixels found as int. </dd></dl>

</div>
</div>
<a class="anchor" id="a5c63e32993b5237c7f7cb3e5b901e285"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mBallDetector::detectOverlap </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structROI.html">ROI</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>previous_rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structROI.html">ROI</a>&#160;</td>
          <td class="paramname"><em>roi_rect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Detect if there is overlap between the previous rois and a new roi. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previous_rois</td><td>The previous rois that could be a ball. </td></tr>
    <tr><td class="paramname">roi_rect</td><td>The current roi rectangle to check for overlap. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if overlap, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a4c05501cea4fef472273318696e53ffa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mBallDetector::findBalls </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the Region of Interest (<a class="el" href="structROI.html">ROI</a>) of an image. Those regions are possible ball candidates. The regions of interest are supplied by the getNextRoi function. </p>

</div>
</div>
<a class="anchor" id="a90a3ea633cf007c9d785eda6f0d2007a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat mBallDetector::getHighIntensityImage </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>source_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>valid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>After finding the minimum and maximum pixel value a threshold is applied with a value in the middle to create a binary image. This is used to find area's which contains light colors. </p>

</div>
</div>
<a class="anchor" id="aa711bda5039efa89177748eb24b1966b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mBallDetector::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the name of the module. </p><dl class="section return"><dt>Returns</dt><dd>name </dd></dl>

<p>Implements <a class="el" href="classModule.html#abf08e52096c10431a4381afdb7c17d3b">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a27bdf7397f32e079c6edc98412115889"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool mBallDetector::getNextROI </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structROI.html">ROI</a> &amp;&#160;</td>
          <td class="paramname"><em>current_roi</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Based on the current <a class="el" href="structROI.html">ROI</a>, find the next <a class="el" href="structROI.html">ROI</a> that needs processing. Either move sideways, or upwards if an entire row has been processed. A Roi's size is based on the expected ball size on that position in the image supplied by the computeExpectedBallSize function. Whether it's a <a class="el" href="structROI.html">ROI</a> or not is based on whether the amount of white pixels is in between MIN_PERCENTAGE_NON_ZEROS_ and MAX_PERCENTAGE_NON_ZEROS_. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_roi</td><td>The roi we are currently checking. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The next roi. </dd></dl>

</div>
</div>
<a class="anchor" id="a3766ba3bce1be52abbe485688d1bdcaf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structModule_1_1UpdateInformation.html">Module::UpdateInformation</a> &gt; mBallDetector::getUpdates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return information about the update function for <a class="el" href="classrBall.html">rBall</a>. </p><dl class="section return"><dt>Returns</dt><dd>vector of UpdateInformation </dd></dl>

<p>Implements <a class="el" href="classModule.html#aa4196a4ac5fbce5e54cc3bc821c42b85">Module</a>.</p>

</div>
</div>
<a class="anchor" id="a0deb81ab98e452a209917ec149febba7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat mBallDetector::inRangeVectorized </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a binary image using a threshold. This is done using vector operations to increase speed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>The image </td></tr>
    <tr><td class="paramname">lower</td><td>The threshold, above will become white, below dark. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Binary image </dd></dl>

</div>
</div>
<a class="anchor" id="ac684a618bf1d137ec8f1bcb82e580055"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mBallDetector::minMaxLoc </td>
          <td>(</td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>roi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Compute the min and max in an image. This is faster than the openCV function, because this version does not save the location of the min and the max, and allows to use scanlines on larger <a class="el" href="structROI.html">ROI</a>'s without having to resize. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">roi</td><td>The image Roi. </td></tr>
    <tr><td class="paramname">min</td><td>lowest pixel value in the roi. </td></tr>
    <tr><td class="paramname">max</td><td>highest pixel value in the roi. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa97baebc6faef8bed9d15c7431a9caa7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat mBallDetector::moveROI </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structROI.html">ROI</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>previous_rois</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structROI.html">ROI</a> &amp;&#160;</td>
          <td class="paramname"><em>roi_rectangle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Move the <a class="el" href="structROI.html">ROI</a> based on its centroid to let the centroid be the new centre. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">previous_rois</td><td>The previous rois that could be a ball. </td></tr>
    <tr><td class="paramname">roi_rectangle</td><td>The roi rectangle. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab0262c9762a880d3d89bb169fc3d73ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mBallDetector::updateBall </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Update the representation of the ball. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad0d66b8eff2ede90d11960adf5ebd7e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::CascadeClassifier mBallDetector::ball_cascade_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The haar classifier cascade. </p>

</div>
</div>
<a class="anchor" id="aa44eec8d54889e5371bef64208eab1e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOutputMessage.html">OutputMessage</a>&lt;<a class="el" href="classrBall.html">rBall</a>&gt; mBallDetector::ball_message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output message containing whether the ball is found, where it is, when that was, and what the angle is to the robot. </p>

</div>
</div>
<a class="anchor" id="a4e145de498a331a53eb1f0e488695ead"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mBallDetector::BALL_SIZE_OFFSET_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Percentage the <a class="el" href="structROI.html">ROI</a> is bigger than the ball, to allow a border around the ball. </p>

</div>
</div>
<a class="anchor" id="a7688fdec8fc199e7d94175a11c52436b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mBallDetector::camera_name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The name of the currently used camera (upper or lower). </p>

</div>
</div>
<a class="anchor" id="addc54af2b89bfca2c993926cf29a22b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInputMessage.html">InputMessage</a>&lt;<a class="el" href="classrCameraSensor.html">rCameraSensor</a>&gt; mBallDetector::camera_sensor_message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Input message that contains the CameraSensorRepresentation </p>

</div>
</div>
<a class="anchor" id="abcc330a6deca203e4428ceb0d0a9eae3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat mBallDetector::cv_image_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The cv image used for detecting the ball. </p>

</div>
</div>
<a class="anchor" id="a9b6155c08c97b42c39ee029bda15cba6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::HAAR_SIZE_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The size of a roi used for the haar classifier. </p>

</div>
</div>
<a class="anchor" id="a050cae35bfcf4df3b81b6e9c2675b435"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mBallDetector::IN_RANGE_THRESHOLD_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>((max - min) * IN_RANGE_THRESHOLD_) + min) is the number that will be used as threshold for the binary image. </p>

</div>
</div>
<a class="anchor" id="af077168c7a31fba66b34f90af23bfade"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInputMessage.html">InputMessage</a>&lt;<a class="el" href="classrJointSensor.html">rJointSensor</a>&gt; mBallDetector::joint_sensor_message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Input message that contains the JointSensorRepresentation. </p>

</div>
</div>
<a class="anchor" id="aff682119795522fb39dae99e9514062c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;const <a class="el" href="classrJointSensor.html">rJointSensor</a>&gt; mBallDetector::joint_sensor_representation_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a29ff2cb292aa14677b5635c712e5f324"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOutputMessage.html">OutputMessage</a>&lt;<a class="el" href="classrLeftEyeLeds.html">rLeftEyeLeds</a>&gt; mBallDetector::left_eye_led_message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output message containing how to left eye led should be set; not if the ball is not seen or red if the ball is seen. </p>

</div>
</div>
<a class="anchor" id="af5af40b4c168af5b46aaa26fe5f89c4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mBallDetector::MAX_PERCENTAGE_NON_ZEROS_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The maximum percentage of non-zero pixels required to be a ball candidate. </p>

</div>
</div>
<a class="anchor" id="a8a044232b3f443669e54d3f7276a962f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int mBallDetector::MAX_RESOLUTION_ = 960 * 480</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The maximum image resolution we would ever use. This variable is used at compile time to create the image channel arrays, since we can't read it from the config files at compile time without getting variable sized arrays. This variable is also in <a class="el" href="image_8h.html">image.h</a> </p>

</div>
</div>
<a class="anchor" id="a88acbf9089bac80c6a4e3b03eb3ef507"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::MAX_ROI_MOVES_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Maximum amount of <a class="el" href="structROI.html">ROI</a> moves based on the centroid. </p>

</div>
</div>
<a class="anchor" id="ae67fab1472733befe0a6bec6bca96b27"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::MIN_COLOR_DIFFERENCE_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The minimum difference between the minimum and maximum pixel value in a <a class="el" href="structROI.html">ROI</a>, if it's lower than this it is probably an even color. </p>

</div>
</div>
<a class="anchor" id="a86e4c50a20b55285dba28ef27a7aff6f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mBallDetector::MIN_PERCENTAGE_NON_ZEROS_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The minimum percentage of non-zero pixels required to be a ball candidate. </p>

</div>
</div>
<a class="anchor" id="a53a20be11dd4f4f9514a928109973068"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::MINIMAL_ROI_SIZE_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The minimal size a roi must have to be a possible ball, also used as size for the haarclassifier. </p>

</div>
</div>
<a class="anchor" id="a5c3fc1cd7fce13f6dfd293cc8283cc55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float mBallDetector::PERCENTAGE_OVERLAP_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Percentage of overlap between two ROIs. </p>

</div>
</div>
<a class="anchor" id="a404069c09a810683aad27cd6f0ac8654"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int mBallDetector::SIMULATION_BALL_SIZE_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Expected ball size of the simulation. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/dnt/modules/perception/ball_detector/<a class="el" href="m__ball__detector_8h_source.html">m_ball_detector.h</a></li>
<li>source/dnt/modules/perception/ball_detector/<a class="el" href="m__ball__detector_8cpp.html">m_ball_detector.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
