<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DNT2017: mRobotModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="dnt_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DNT2017
   </div>
   <div id="projectbrief">RoboCup SPL Dutch Nao Team</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classmRobotModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">mRobotModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The module robotModel's purpose is to create a forward kinematics model of the whole robot, i.e.  
 <a href="classmRobotModel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="m__robot__model_8h_source.html">m_robot_model.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mRobotModel:</div>
<div class="dyncontent">
<div class="center"><img src="classmRobotModel__inherit__graph.png" border="0" usemap="#mRobotModel_inherit__map" alt="Inheritance graph"/></div>
<map name="mRobotModel_inherit__map" id="mRobotModel_inherit__map">
<area shape="rect" id="node2" href="classModule.html" title="Module abstract class. " alt="" coords="25,5,89,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for mRobotModel:</div>
<div class="dyncontent">
<div class="center"><img src="classmRobotModel__coll__graph.png" border="0" usemap="#mRobotModel_coll__map" alt="Collaboration graph"/></div>
<map name="mRobotModel_coll__map" id="mRobotModel_coll__map">
<area shape="rect" id="node2" href="classModule.html" title="Module abstract class. " alt="" coords="5,157,69,184"/>
<area shape="rect" id="node3" href="classOutputMessage.html" title="OutputMessage\&lt; rRobotModel \&gt;" alt="" coords="93,157,305,184"/>
<area shape="rect" id="node4" href="classOutputMessageBase.html" title="OutputMessage of a module. " alt="" coords="176,81,320,108"/>
<area shape="rect" id="node5" href="classMessage.html" title="Message abstract class. " alt="" coords="292,5,367,32"/>
<area shape="rect" id="node8" href="classInputMessageBase.html" title="InputMessage of a module. " alt="" coords="353,81,487,108"/>
<area shape="rect" id="node6" href="structLinkTable.html" title="A representation of every link of the robot and the value it should contain, in order to get a transf..." alt="" coords="554,157,633,184"/>
<area shape="rect" id="node7" href="classInputMessage.html" title="InputMessage\&lt; rJointSensor \&gt;" alt="" coords="329,157,530,184"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a737f890f7c53a864170d52a779aac334"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a737f890f7c53a864170d52a779aac334">mRobotModel</a> ()</td></tr>
<tr class="memdesc:a737f890f7c53a864170d52a779aac334"><td class="mdescLeft">&#160;</td><td class="mdescRight">The module robotModel's purpose is to create a forward kinematics model of the whole robot, i.e.  <a href="#a737f890f7c53a864170d52a779aac334">More...</a><br /></td></tr>
<tr class="separator:a737f890f7c53a864170d52a779aac334"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc449a0b56de4c0656ceb84532852e73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#acc449a0b56de4c0656ceb84532852e73">update</a> ()</td></tr>
<tr class="memdesc:acc449a0b56de4c0656ceb84532852e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the position of all joints of the robot.  <a href="#acc449a0b56de4c0656ceb84532852e73">More...</a><br /></td></tr>
<tr class="separator:acc449a0b56de4c0656ceb84532852e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30df6ad2dd68ee5f295b83a4f8083d5e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a30df6ad2dd68ee5f295b83a4f8083d5e">getName</a> () const</td></tr>
<tr class="memdesc:a30df6ad2dd68ee5f295b83a4f8083d5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the name of the module.  <a href="#a30df6ad2dd68ee5f295b83a4f8083d5e">More...</a><br /></td></tr>
<tr class="separator:a30df6ad2dd68ee5f295b83a4f8083d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4fa6d6072533ef2b11140cbb4326e9"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structModule_1_1UpdateInformation.html">UpdateInformation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a1d4fa6d6072533ef2b11140cbb4326e9">getUpdates</a> ()</td></tr>
<tr class="memdesc:a1d4fa6d6072533ef2b11140cbb4326e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return information about all update functions for representations that are used in this module.  <a href="#a1d4fa6d6072533ef2b11140cbb4326e9">More...</a><br /></td></tr>
<tr class="separator:a1d4fa6d6072533ef2b11140cbb4326e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classModule"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classModule')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classModule.html">Module</a></td></tr>
<tr class="memitem:a4a48538d35a2da7fcc32d9f509034723 inherit pub_methods_classModule"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classModule.html#a4a48538d35a2da7fcc32d9f509034723">~Module</a> ()=default</td></tr>
<tr class="memdesc:a4a48538d35a2da7fcc32d9f509034723 inherit pub_methods_classModule"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor does nothing.  <a href="classModule.html#a4a48538d35a2da7fcc32d9f509034723">More...</a><br /></td></tr>
<tr class="separator:a4a48538d35a2da7fcc32d9f509034723 inherit pub_methods_classModule"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad87202ac079dab02648094457c46c33e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLinkTable.html">LinkTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#ad87202ac079dab02648094457c46c33e">head_</a></td></tr>
<tr class="memdesc:ad87202ac079dab02648094457c46c33e"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classRepresentation.html" title="Representation abstract class. ">Representation</a> of every link of the robot.  <a href="#ad87202ac079dab02648094457c46c33e">More...</a><br /></td></tr>
<tr class="separator:ad87202ac079dab02648094457c46c33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2f212c1c55ea2e407ba31744ffde7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLinkTable.html">LinkTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#aef2f212c1c55ea2e407ba31744ffde7a">left_arm_</a></td></tr>
<tr class="separator:aef2f212c1c55ea2e407ba31744ffde7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cb1d3dc70cff5832b6b9d5ec1b78db7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLinkTable.html">LinkTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a7cb1d3dc70cff5832b6b9d5ec1b78db7">right_arm_</a></td></tr>
<tr class="separator:a7cb1d3dc70cff5832b6b9d5ec1b78db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62fc33bcc219574852c54b30db3b6de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLinkTable.html">LinkTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#ad62fc33bcc219574852c54b30db3b6de">left_leg_</a></td></tr>
<tr class="separator:ad62fc33bcc219574852c54b30db3b6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c270455eee2bf2c7eda23307c3f3790"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structLinkTable.html">LinkTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a7c270455eee2bf2c7eda23307c3f3790">right_leg_</a></td></tr>
<tr class="separator:a7c270455eee2bf2c7eda23307c3f3790"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a8fcc8b11a4075449ddc0747f4baa19f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a8fcc8b11a4075449ddc0747f4baa19f9">calcCenterOfMass</a> ()</td></tr>
<tr class="memdesc:a8fcc8b11a4075449ddc0747f4baa19f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set center of mass according the kinemetic chain of every link, see previous private variables and add it to the representation.  <a href="#a8fcc8b11a4075449ddc0747f4baa19f9">More...</a><br /></td></tr>
<tr class="separator:a8fcc8b11a4075449ddc0747f4baa19f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367596eeddf23e5e656dc37d5ec54303"><td class="memItemLeft" align="right" valign="top">Eigen::Affine3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a367596eeddf23e5e656dc37d5ec54303">calcDhfTransform</a> (const std::vector&lt; <a class="el" href="classDHFrame.html">DHFrame</a> &gt; &amp;dhframes, <a class="el" href="classrRobotModel.html#aa1b6a1e9a3efea8ed2c503b459921c91">rRobotModel::RobotFrames</a> link)</td></tr>
<tr class="memdesc:a367596eeddf23e5e656dc37d5ec54303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the kinematic chain of a robot link.  <a href="#a367596eeddf23e5e656dc37d5ec54303">More...</a><br /></td></tr>
<tr class="separator:a367596eeddf23e5e656dc37d5ec54303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1455052cb4934856da868de5bf2a95ae"><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="math_2Eigen_8h.html#aea8c0c08032c3bfe6d4a31b30bdf21b0">Eigen::Quaternionf</a>, Eigen::Translation3f &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a1455052cb4934856da868de5bf2a95ae">toTransformPair</a> (const Eigen::Affine3f &amp;transforms)</td></tr>
<tr class="memdesc:a1455052cb4934856da868de5bf2a95ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create pairs of every kinematic chain and put it in the representation.  <a href="#a1455052cb4934856da868de5bf2a95ae">More...</a><br /></td></tr>
<tr class="separator:a1455052cb4934856da868de5bf2a95ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a90b118df1f5554f1c7581f68122f89c5"><td class="memItemLeft" align="right" valign="top">Eigen::Affine3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a90b118df1f5554f1c7581f68122f89c5">com_rotation_</a></td></tr>
<tr class="memdesc:a90b118df1f5554f1c7581f68122f89c5"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceKinematics.html" title="Constants used in the forward kinematic chain. ">Kinematics</a> transformation of every link in order to calculate the center of mass head_rot_ is needed to differentiate between top and bottom camera.  <a href="#a90b118df1f5554f1c7581f68122f89c5">More...</a><br /></td></tr>
<tr class="separator:a90b118df1f5554f1c7581f68122f89c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517cde86f53fd2412371e189701ff0f8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a517cde86f53fd2412371e189701ff0f8">v_head_chain_</a></td></tr>
<tr class="separator:a517cde86f53fd2412371e189701ff0f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a877b6fb283f9c0cb7f46e5d141ac67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a3a877b6fb283f9c0cb7f46e5d141ac67">v_l_arm_chain_</a></td></tr>
<tr class="separator:a3a877b6fb283f9c0cb7f46e5d141ac67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a1598861a4b1f4d12fe2716ea15ba50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a6a1598861a4b1f4d12fe2716ea15ba50">v_r_arm_chain_</a></td></tr>
<tr class="separator:a6a1598861a4b1f4d12fe2716ea15ba50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d078e889c200cfab97efaeebf0bbb45"><td class="memItemLeft" align="right" valign="top"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a9d078e889c200cfab97efaeebf0bbb45">v_l_leg_chain_</a></td></tr>
<tr class="separator:a9d078e889c200cfab97efaeebf0bbb45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b19a5c57ed0745a6ef874f45f6a6183"><td class="memItemLeft" align="right" valign="top"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a6b19a5c57ed0745a6ef874f45f6a6183">v_r_leg_chain_</a></td></tr>
<tr class="separator:a6b19a5c57ed0745a6ef874f45f6a6183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96b4492a56d114f04484b2fa400de66"><td class="memItemLeft" align="right" valign="top">Eigen::Affine3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#af96b4492a56d114f04484b2fa400de66">center_of_mass_</a></td></tr>
<tr class="separator:af96b4492a56d114f04484b2fa400de66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18709eaa310d7f6a061b946b65104320"><td class="memItemLeft" align="right" valign="top">Eigen::Affine3f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a18709eaa310d7f6a061b946b65104320">head_rot_</a></td></tr>
<tr class="separator:a18709eaa310d7f6a061b946b65104320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa544056849e205abf00b7f5298b2eb07"><td class="memItemLeft" align="right" valign="top"><a class="el" href="math_2Eigen_8h.html#a35229a7f7ce41195227ebcb48025f93b">Eigen::Matrix3f</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#aa544056849e205abf00b7f5298b2eb07">head_rotation_calibration_</a></td></tr>
<tr class="memdesc:aa544056849e205abf00b7f5298b2eb07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special rotation matrix from the calibration application in the interface.  <a href="#aa544056849e205abf00b7f5298b2eb07">More...</a><br /></td></tr>
<tr class="separator:aa544056849e205abf00b7f5298b2eb07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41bcb77dfa48d32f720f8f13881c39d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classInputMessage.html">InputMessage</a>&lt; <a class="el" href="classrJointSensor.html">rJointSensor</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#ab41bcb77dfa48d32f720f8f13881c39d">joint_sensor_message_</a></td></tr>
<tr class="memdesc:ab41bcb77dfa48d32f720f8f13881c39d"><td class="mdescLeft">&#160;</td><td class="mdescRight">In- and output messages of this module.  <a href="#ab41bcb77dfa48d32f720f8f13881c39d">More...</a><br /></td></tr>
<tr class="separator:ab41bcb77dfa48d32f720f8f13881c39d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd32744ef0888052494e81759bc5a17"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOutputMessage.html">OutputMessage</a>&lt; <a class="el" href="classrRobotModel.html">rRobotModel</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmRobotModel.html#a4cd32744ef0888052494e81759bc5a17">robotModel_message_</a></td></tr>
<tr class="separator:a4cd32744ef0888052494e81759bc5a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The module robotModel's purpose is to create a forward kinematics model of the whole robot, i.e. </p>
<p>; for any given link of the robot e.g. head, arm, legs, to give the transformation matrix of those links. The only reference point for all the connections is the torso.</p>
<p>In order to achieve this we use the Denavit-Hartenberg angle convention and for each link of the body we create a Table struct containing:</p><ul>
<li>a base frame translation with reference to the torso,</li>
<li>a Denhavit frame vector storing: the link length, link twist and link offset</li>
<li>the current angle of the relevant joint.</li>
</ul>
<p>Furthermore, the table contains the x, y, z-rotation corresponding to roll, pitch, yaw respectively of the possibile rotation of the body link, the end possible rotation of the link at the end position and its translation. These are stored in an end effector matrix. The end result transformation given a link is thus calculated by </p><div class="fragment"><div class="line">Matrix[begin-&gt;end] = Translation[base-&gt;begin] * Transform[begin_&gt;link_i]</div><div class="line">                                              * Transform[link_i-&gt;link_j]</div><div class="line">                                              * EndEffector[link_j-&gt;end]</div></div><!-- fragment --><p> This matrix transformation is thus different for every given link</p>
<dl class="section author"><dt>Author</dt><dd>Lukas Jelinek </dd>
<dd>
Jier Nzuanzu The class robot model with a constructor which will be used to cache static values of each table element. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a737f890f7c53a864170d52a779aac334"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a737f890f7c53a864170d52a779aac334">&#9670;&nbsp;</a></span>mRobotModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mRobotModel::mRobotModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The module robotModel's purpose is to create a forward kinematics model of the whole robot, i.e. </p>
<p>; for any given link of the robot e.g. head, arm, legs, to give the transformation matrix of those links. The only reference point for all the connections is the torso.</p>
<p>In order to achieve this we use the Denavit-Hartenberg angle convention and for each link of the body we create a Table struct containing:</p><ul>
<li>a base frame translation with reference to the torso,</li>
<li>a Denhavit frame vector storing: the link length, link twist and link offset</li>
<li>the current angle of the relevant joint.</li>
</ul>
<p>Furthermore, the table contains the x, y, z-rotation corresponding to roll, pitch, yaw respectively of the possibile rotation of the body link, the end possible rotation of the link at the end position and its translation. These are stored in an end effector matrix. The end result transformation given a link is thus calculated by </p><div class="fragment"><div class="line">Matrix[begin-&gt;end] = Translation[base-&gt;begin] * Transform[begin_&gt;link_i]</div><div class="line">                                              * Transform[link_i-&gt;link_j]</div><div class="line">                                              * EndEffector[link_j-&gt;end]</div></div><!-- fragment --><p> This matrix transformation is thus different for every given link</p>
<dl class="section author"><dt>Author</dt><dd>Lukas Jellinek </dd>
<dd>
Jier Nzuanzu </dd>
<dd>
Caitlin </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8fcc8b11a4075449ddc0747f4baa19f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fcc8b11a4075449ddc0747f4baa19f9">&#9670;&nbsp;</a></span>calcCenterOfMass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mRobotModel::calcCenterOfMass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set center of mass according the kinemetic chain of every link, see previous private variables and add it to the representation. </p>

</div>
</div>
<a id="a367596eeddf23e5e656dc37d5ec54303"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a367596eeddf23e5e656dc37d5ec54303">&#9670;&nbsp;</a></span>calcDhfTransform()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Affine3f mRobotModel::calcDhfTransform </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classDHFrame.html">DHFrame</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>dhframes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classrRobotModel.html#aa1b6a1e9a3efea8ed2c503b459921c91">rRobotModel::RobotFrames</a>&#160;</td>
          <td class="paramname"><em>link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the kinematic chain of a robot link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dhframes</td><td>a vector of <a class="el" href="classDHFrame.html" title="Denavit-Hartenberg convention Frame class to store θi,ai,di,αi, link length, link twist...">DHFrame</a> object containing e.g. translation and rotation </td></tr>
    <tr><td class="paramname">link</td><td>Link to obtain transformation from the base to that link </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Affine3f transformation matrix of given link </dd></dl>

</div>
</div>
<a id="a30df6ad2dd68ee5f295b83a4f8083d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30df6ad2dd68ee5f295b83a4f8083d5e">&#9670;&nbsp;</a></span>getName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string mRobotModel::getName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the name of the module. </p>
<dl class="section return"><dt>Returns</dt><dd>name </dd></dl>

<p>Implements <a class="el" href="classModule.html#abf08e52096c10431a4381afdb7c17d3b">Module</a>.</p>

</div>
</div>
<a id="a1d4fa6d6072533ef2b11140cbb4326e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d4fa6d6072533ef2b11140cbb4326e9">&#9670;&nbsp;</a></span>getUpdates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structModule_1_1UpdateInformation.html">Module::UpdateInformation</a> &gt; mRobotModel::getUpdates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return information about all update functions for representations that are used in this module. </p>
<dl class="section return"><dt>Returns</dt><dd>vector of UpdateInformation </dd></dl>

<p>Implements <a class="el" href="classModule.html#aa4196a4ac5fbce5e54cc3bc821c42b85">Module</a>.</p>

</div>
</div>
<a id="a1455052cb4934856da868de5bf2a95ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1455052cb4934856da868de5bf2a95ae">&#9670;&nbsp;</a></span>toTransformPair()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="math_2Eigen_8h.html#aea8c0c08032c3bfe6d4a31b30bdf21b0">Eigen::Quaternionf</a>, Eigen::Translation3f &gt; mRobotModel::toTransformPair </td>
          <td>(</td>
          <td class="paramtype">const Eigen::Affine3f &amp;&#160;</td>
          <td class="paramname"><em>transforms</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create pairs of every kinematic chain and put it in the representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transforms</td><td>from  calcDhftransform </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::pair&lt;Eigen::Quaternionf, Eigen::Translation3f&gt; </dd></dl>

</div>
</div>
<a id="acc449a0b56de4c0656ceb84532852e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc449a0b56de4c0656ceb84532852e73">&#9670;&nbsp;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mRobotModel::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the position of all joints of the robot. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af96b4492a56d114f04484b2fa400de66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96b4492a56d114f04484b2fa400de66">&#9670;&nbsp;</a></span>center_of_mass_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Affine3f mRobotModel::center_of_mass_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a90b118df1f5554f1c7581f68122f89c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90b118df1f5554f1c7581f68122f89c5">&#9670;&nbsp;</a></span>com_rotation_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Affine3f mRobotModel::com_rotation_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="namespaceKinematics.html" title="Constants used in the forward kinematic chain. ">Kinematics</a> transformation of every link in order to calculate the center of mass head_rot_ is needed to differentiate between top and bottom camera. </p>

</div>
</div>
<a id="ad87202ac079dab02648094457c46c33e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad87202ac079dab02648094457c46c33e">&#9670;&nbsp;</a></span>head_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLinkTable.html">LinkTable</a> mRobotModel::head_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classRepresentation.html" title="Representation abstract class. ">Representation</a> of every link of the robot. </p>

</div>
</div>
<a id="a18709eaa310d7f6a061b946b65104320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18709eaa310d7f6a061b946b65104320">&#9670;&nbsp;</a></span>head_rot_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Eigen::Affine3f mRobotModel::head_rot_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa544056849e205abf00b7f5298b2eb07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa544056849e205abf00b7f5298b2eb07">&#9670;&nbsp;</a></span>head_rotation_calibration_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="math_2Eigen_8h.html#a35229a7f7ce41195227ebcb48025f93b">Eigen::Matrix3f</a> mRobotModel::head_rotation_calibration_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Special rotation matrix from the calibration application in the interface. </p>
<p>It is supposed to compensate the difference between the specified rotation value as specified in the documentation of the robot (<a href="http://doc.aldebaran.com/2-1/family/robots/video_robot.html">http://doc.aldebaran.com/2-1/family/robots/video_robot.html</a>) and the actual values the robot has. </p>

</div>
</div>
<a id="ab41bcb77dfa48d32f720f8f13881c39d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab41bcb77dfa48d32f720f8f13881c39d">&#9670;&nbsp;</a></span>joint_sensor_message_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classInputMessage.html">InputMessage</a>&lt;<a class="el" href="classrJointSensor.html">rJointSensor</a>&gt; mRobotModel::joint_sensor_message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>In- and output messages of this module. </p>

</div>
</div>
<a id="aef2f212c1c55ea2e407ba31744ffde7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef2f212c1c55ea2e407ba31744ffde7a">&#9670;&nbsp;</a></span>left_arm_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLinkTable.html">LinkTable</a> mRobotModel::left_arm_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad62fc33bcc219574852c54b30db3b6de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62fc33bcc219574852c54b30db3b6de">&#9670;&nbsp;</a></span>left_leg_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLinkTable.html">LinkTable</a> mRobotModel::left_leg_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7cb1d3dc70cff5832b6b9d5ec1b78db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cb1d3dc70cff5832b6b9d5ec1b78db7">&#9670;&nbsp;</a></span>right_arm_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLinkTable.html">LinkTable</a> mRobotModel::right_arm_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7c270455eee2bf2c7eda23307c3f3790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c270455eee2bf2c7eda23307c3f3790">&#9670;&nbsp;</a></span>right_leg_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structLinkTable.html">LinkTable</a> mRobotModel::right_leg_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4cd32744ef0888052494e81759bc5a17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd32744ef0888052494e81759bc5a17">&#9670;&nbsp;</a></span>robotModel_message_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOutputMessage.html">OutputMessage</a>&lt;<a class="el" href="classrRobotModel.html">rRobotModel</a>&gt; mRobotModel::robotModel_message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a517cde86f53fd2412371e189701ff0f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a517cde86f53fd2412371e189701ff0f8">&#9670;&nbsp;</a></span>v_head_chain_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a> mRobotModel::v_head_chain_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3a877b6fb283f9c0cb7f46e5d141ac67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a877b6fb283f9c0cb7f46e5d141ac67">&#9670;&nbsp;</a></span>v_l_arm_chain_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a> mRobotModel::v_l_arm_chain_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d078e889c200cfab97efaeebf0bbb45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d078e889c200cfab97efaeebf0bbb45">&#9670;&nbsp;</a></span>v_l_leg_chain_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a> mRobotModel::v_l_leg_chain_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a1598861a4b1f4d12fe2716ea15ba50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a1598861a4b1f4d12fe2716ea15ba50">&#9670;&nbsp;</a></span>v_r_arm_chain_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a> mRobotModel::v_r_arm_chain_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6b19a5c57ed0745a6ef874f45f6a6183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b19a5c57ed0745a6ef874f45f6a6183">&#9670;&nbsp;</a></span>v_r_leg_chain_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="math_2Eigen_8h.html#a28a50d6df2d99beaa9f68f926cb8f4ca">Eigen::Vector3f</a> mRobotModel::v_r_leg_chain_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>source/dnt/modules/modelling/<a class="el" href="m__robot__model_8h_source.html">m_robot_model.h</a></li>
<li>source/dnt/modules/modelling/<a class="el" href="m__robot__model_8cpp.html">m_robot_model.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
